<?php $groupAttributes = $this->getGroupAttributes(); ?>

<form method="post" id="productForm" action="<?php echo $this->getSaveUrl() ?>" enctype="multipart/form-data">

    <input type="hidden" name="form_key" value="<?php echo Mage::getSingleton('core/session')->getFormKey() ?>" />

    <?php foreach ($groupAttributes as $key => $groupAttribute) : ?>
    <fieldset>
        <div id="<?php echo $key ?>" class="tabcontent">
        <legend><?php echo $key ?></legend>
        <div class="row form-group">
        <?php foreach ($groupAttribute as $attribute) : ?>
            <div class="col-7 mb-3">
                <?php echo $this->getAttributeHtml($attribute) ?>
            </div>
        <?php endforeach; ?>
        </div>
    </div>
    </fieldset>
    <?php endforeach; ?>
    
    <div class="buttons-set">
        <!-- <p class="back-link"><a href="<?php //echo $this->escapeUrl($this->getBackUrl()) ?>" class="back-link"><small>&laquo; </small><?php //echo $this->__('Back') ?></a></p> -->
        <button type="button" onclick="return checkDetails()" title="<?php echo $this->quoteEscape($this->__('Save')) ?>" class="button"><span><span><?php echo $this->__('Save') ?></span></span></button>
    </div>

</form>




<script>

    function changeTab(evt, cityName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }

function checkDetails() {
    flag = 0;
    jQuery("input,select,textarea").each(function() {
        if (jQuery(this).attr("id") == 'required') {
            if (jQuery(this).val() == "" || jQuery(this).val() == undefined) {
                //ptag = jQuery(this).parent().prev().children()[0];
                ptag = jQuery(this).parent().children()[0];
                console.log(ptag);
                alert("Please Fill " + jQuery(ptag).text().trim().slice(1, -1) + " value");
                flag = 1;
                return false;
            }
        }
    });
    jQuery("input").each(function() {
        if (jQuery(this).attr("type") == 'number') {
            if (jQuery(this).val() < 0) {
                ptag = jQuery(this).parent().children()[0];
                alert(jQuery(ptag).text().trim().slice(1, -1) + " Value must be positive value ");
                flag = 1;
                return false;
            }
        }
    });
    if (flag) {
        return false;
    } else {
        jQuery("#productForm").submit();
    }
}
    
</script>